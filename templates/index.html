<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Product Price Analysis</title>
    <link href="{{ url_for('static', filename='css/output.css') }}" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">Advanced Product Price Analysis</h1>
        
        {% if error %}
        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-8" role="alert">
            <p class="font-bold">Error:</p>
            <p>{{ error }}</p>
        </div>
        {% else %}
            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-8" role="alert">
                <p class="font-bold">Note:</p>
                <p>This is a demonstration using fake example data with advanced machine learning techniques.</p>
            </div>

            <div class="bg-white shadow-md rounded-lg p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-4">PCA: Principal Component Analysis</h2>
                <img src="data:image/png;base64,{{ pca_plot }}" alt="PCA Plot" class="w-full">
                <p class="mt-4 text-gray-600">This plot shows the first two principal components of the product features. The color represents the price. Clustered points indicate products with similar characteristics.</p>
            </div>

            <div class="bg-white shadow-md rounded-lg p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-4">t-SNE: t-Distributed Stochastic Neighbor Embedding</h2>
                <img src="data:image/png;base64,{{ tsne_plot }}" alt="t-SNE Plot" class="w-full">
                <p class="mt-4 text-gray-600">t-SNE helps visualize high-dimensional data. This plot shows product relationships in a 2D space, with color indicating price. Clusters suggest groups of similar products.</p>
            </div>

            <div class="bg-white shadow-md rounded-lg p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-4">K-means Clustering</h2>
                <img src="data:image/png;base64,{{ kmeans_plot }}" alt="K-means Clustering Plot" class="w-full">
                <p class="mt-4 text-gray-600">This plot shows the result of K-means clustering on the product features. Each color represents a different cluster, indicating groups of products with similar characteristics.</p>
            </div>

            <div class="bg-white shadow-md rounded-lg p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-4">Isolation Forest: Outlier Detection</h2>
                <img src="data:image/png;base64,{{ isolation_forest_plot }}" alt="Isolation Forest Plot" class="w-full">
                <p class="mt-4 text-gray-600">This plot shows the results of Isolation Forest for outlier detection. Red points are potential outliers, while green points are considered normal. This helps identify unusual or anomalous products.</p>
            </div>
        {% endif %}
    </div>
</body>
</html>